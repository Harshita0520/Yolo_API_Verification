{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["status", "data"],
  "properties": {
    "status": {
      "type": "object",
      "required": ["http_status_code"],
      "properties": {
        "http_status_code": {
          "type": "integer",
          "enum": [200]
        }
      }
    },
    "data": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "trip_id",
          "sub_trip_id",
          "status",
          "trip_status",
          "journey_date",
          "journey_end_date",
          "pnr_number",
          "seats"
        ],
        "properties": {
          "added_by": { "type": "integer" },
          "agent_id": { "type": "integer" },

          "boarding": { "$ref": "#/definitions/location" },
          "dropping": { "$ref": "#/definitions/location" },

          "bus_name": { "type": "string" },
          "cancel_seat_ids": { "type": "array" },
          "cancel_seat_numbers": { "type": "array" },

          "cancelled_at": { "type": ["string", "null"] },
          "confirmed_at": { "type": ["string", "null"] },
          "commission": { "type": ["number", "null"] },

          "coupon": { "type": ["string","integer", "null"] },
          "coupon_id": { "type": ["string","integer", "null"] },
          "coupon_type": { "type": ["integer","string", "null"] },

          "created_at": { "$ref": "#/definitions/dateTime" },
          "updated_at": { "$ref": "#/definitions/dateTime" },

          "default_phone": { "type": "string" },
          "origin_name": { "type": "string" },
          "destination_name": { "type": "string" },

          "discount": { "type": "number" },
          "fee": { "type": "number" },
          "final_price": { "type": "number" },
          "final_tax": { "type": "number" },

          "journey_date": { "$ref": "#/definitions/dateTimeWithTZ" },
          "journey_end_date": { "$ref": "#/definitions/dateTimeWithTZ" },
          "trip_date": { "$ref": "#/definitions/dateTimeNoTZ" },

          "pnr_number": { "type": "string" },

          "seat_ids": { "type": "array" },
          "seat_numbers": {
            "type": "array",
            "items": { "type": "string" }
          },

          "seats": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "required": ["seat_num", "status", "passanger"],
              "properties": {
                "id": { "type": "integer" },
                "seat_type": { "type": "string" },
                "seat_sub_type": { "type": ["string", "null"] },
                "seat_num": { "type": "string" },

                "base_fare": { "type": "number" },
                "actual_fare": { "type": "number" },
                "tax": { "type": "number" },
                "discount": { "type": "number" },
                "final_price": { "type": "number" },

                "reservation_type": { "type": "integer" },
                "status": { "type": "string" },

                "created_at": { "$ref": "#/definitions/dateTime" },
                "cancelled_at": { "type": ["string", "null"] },

                "passanger": {
                  "type": "object",
                  "required": ["name", "phone"],
                  "properties": {
                    "name": { "type": "string" },
                    "phone": { "type": "string" },
                    "dob": { "type": ["string", "null"] },
                    "gender": { "type": "string" },
                    "email": { "type": ["string", "null"] },
                    "is_default": { "type": "boolean" },
                    "is_updated_by_captain": { "type": "integer" }
                  }
                },

                "amenities": { "type": "array" },
                "onboard_time": { "type": ["string", "null"] },
                "is_not_arrived": { "type": "integer" },
                "convenience_fees": { "type": "number" },
                "reddeal_discount": { "type": "number" }
              }
            }
          },

          "service_id": { "type": "integer" },
          "service_name": { "type": "string" },
          "shipment_numbers": { "type": "array" },
          "source": { "type": "string" },

          "status": { "type": "string" },
          "trip_status": { "type": "string" },

          "sub_trip_id": { "type": "integer" },
          "trip_id": { "type": "integer" },

          "total_amenities_base_fare": { "type": "number" },
          "total_amenities_tax": { "type": "number" },
          "total_refund": { "type": ["number", "null"] },
          "total_seat_tax": { "type": "number" },
          "total_seats_base_fare": { "type": "number" },

          "transaction_id": { "type": ["integer", "null"] },
          "refund_percent": { "type": "integer" },

          "updated_by": { "type": "integer" },
          "user_id": { "type": "integer" },

          "id": { "type": "string" },
          "vehicle_number": { "type": "string" }
        }
      }
    }
  },

  "definitions": {
    "location": {
      "type": "object",
      "required": ["stop"],
      "properties": {
        "stop": {
          "type": "object",
          "required": ["id", "name", "city"],
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" },
            "area_name": { "type": "string" },
            "address": { "type": "string" },
            "latitude": { "type": "string" },
            "longitude": { "type": "string" },
            "city": {
              "type": "object",
              "properties": {
                "id": { "type": "integer" },
                "name": { "type": "string" },
                "state": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "integer" },
                    "name": { "type": "string" }
                  }
                }
              }
            }
          }
        },
        "est_arr_time": { "type": "string" },
        "est_dep_time": { "type": "string" },
        "day_num": { "type": "integer" },
        "dep_day_num": { "type": "integer" },
        "rep_id": { "type": "integer" },
        "status": { "type": "integer" },
        "hop_type_detail": { "type": "array" }
      }
    },

    "dateTime": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3,6}$"
    },

    "dateTimeWithTZ": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\+\\d{2}:\\d{2}$"
    },

    "dateTimeNoTZ": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}$"
    }
  }
}
