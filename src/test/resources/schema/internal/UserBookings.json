{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "status": {
      "type": "object",
      "properties": {
        "http_status_code": {
          "type": "integer",
          "enum": [200]
        }
      },
      "required": ["http_status_code"],
      "additionalProperties": false
    },
    "data": {
      "type": "object",
      "properties": {
        "booking_list": {
          "type": "array",
          "items": { "$ref": "#/definitions/booking" },
          "minItems": 1
        },
        "meta": {
          "type": "object",
          "properties": {
            "page": { "type": "integer" },
            "total": { "type": "integer" }
          },
          "required": ["page", "total"],
          "additionalProperties": false
        }
      },
      "required": ["booking_list", "meta"],
      "additionalProperties": false
    }
  },
  "required": ["status", "data"],
  "additionalProperties": false,

  "definitions": {
    "booking": {
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "pnr_number": { "type": "string" },
        "bus_name": { "type": "string" },
        "service_name": { "type": "string" },
        "origin_name": { "type": "string" },
        "destination_name": { "type": "string" },
        "source": { "type": "string" },
        "status": { "type": "string" },
        "trip_status": { "type": "string" },
        "final_price": { "type": "number" },
        "refund_percent": { "type": "number" },
        "trip_id": { "type": "integer" },
        "sub_trip_id": { "type": "integer" },
        "transaction_id": { "type": "integer" },

        "journey_date": { "type": "string" },
        "journey_end_date": { "type": "string" },
        "created_at": { "type": "string" },
        "confirmed_at": {
          "type": ["string", "null"]
        },

        "cancel_seat_ids": {
          "type": "array",
          "items": {}
        },
        "cancel_seat_numbers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "seat_numbers": {
          "type": "array",
          "items": { "type": "string" }
        },

        "boarding": { "$ref": "#/definitions/hop" },
        "dropping": { "$ref": "#/definitions/hop" },

        "seats": {
          "type": "array",
          "items": { "$ref": "#/definitions/seat" }
        }
      },
      "required": [
        "id",
        "pnr_number",
        "bus_name",
        "service_name",
        "origin_name",
        "destination_name",
        "status",
        "trip_status",
        "final_price",
        "journey_date",
        "journey_end_date",
        "boarding",
        "dropping",
        "seats"
      ],
      "additionalProperties": false
    },

    "hop": {
      "type": "object",
      "properties": {
        "stop": { "$ref": "#/definitions/stop" },
        "est_arr_time": { "type": "string" },
        "est_dep_time": { "type": "string" },
        "day_num": { "type": "integer" },
        "dep_day_num": { "type": "integer" },
        "rep_id": { "type": "integer" },
        "status": { "type": "integer" },
        "hop_type_detail": {
          "type": "array",
          "items": { "$ref": "#/definitions/hopType" }
        }
      },
      "required": ["stop", "est_arr_time", "est_dep_time", "day_num", "status"],
      "additionalProperties": false
    },

    "stop": {
      "type": "object",
      "properties": {
        "id": { "type": "integer" },
        "name": { "type": "string" },
        "area_name": { "type": "string" },
        "address": { "type": "string" },
        "latitude": { "type": "string" },
        "longitude": { "type": "string" },
        "city": { "$ref": "#/definitions/city" }
      },
      "required": ["id", "name", "city"],
      "additionalProperties": false
    },

    "city": {
      "type": "object",
      "properties": {
        "id": { "type": "integer" },
        "name": { "type": "string" },
        "state": {
          "type": "object",
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" }
          },
          "required": ["id", "name"],
          "additionalProperties": false
        }
      },
      "required": ["id", "name", "state"],
      "additionalProperties": false
    },

    "hopType": {
      "type": "object",
      "properties": {
        "status": { "type": "string" },
        "stop_type": {
          "type": "object",
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" }
          },
          "required": ["id", "name"],
          "additionalProperties": false
        }
      },
      "required": ["status", "stop_type"],
      "additionalProperties": false
    },

    "seat": {
      "type": "object",
      "properties": {
        "seat_num": { "type": "string" },
        "status": { "type": "string" },
        "passanger": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "phone": { "type": "string" },
            "gender": { "type": "string" }
          },
          "required": ["name", "phone", "gender"],
          "additionalProperties": false
        }
      },
      "required": ["seat_num", "status", "passanger"],
      "additionalProperties": false
    }
  }
}
