{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["status", "data"],
  "properties": {
    "status": {
      "type": "object",
      "required": ["http_status_code"],
      "properties": {
        "http_status_code": {
          "type": "integer",
          "enum": [200]
        }
      }
    },

    "data": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "service_template_id",
          "service_name",
          "journey_date",
          "trip_id",
          "sub_trip_id",
          "seat_details",
          "hop_details"
        ],
        "properties": {
          "service_template_id": { "type": "integer" },
          "service_name": { "type": "string" },

          "journey_date": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
          },

          "trip_id": { "type": "integer" },
          "sub_trip_id": { "type": "integer" },

          "seat_details": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "Other": {
                  "type": "array",
                  "items": { "type": "string" }
                },
                "Female": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              }
            }
          },

          "hop_details": {
            "type": "object",
            "required": ["boarding_details", "dropping_details"],
            "properties": {
              "boarding_details": {
                "type": "array",
                "items": { "$ref": "#/definitions/hopPoint" }
              },
              "dropping_details": {
                "type": "array",
                "items": { "$ref": "#/definitions/hopPoint" }
              }
            }
          }
        }
      }
    }
  },

  "definitions": {
    "hopPoint": {
      "type": "object",
      "required": [
        "id",
        "name",
        "area_name",
        "address",
        "latitude",
        "longitude",
        "est_arr_time",
        "est_dep_time",
        "day_num",
        "dep_day_num",
        "city"
      ],
      "properties": {
        "id": { "type": "integer" },
        "name": { "type": "string" },
        "area_name": { "type": "string" },
        "address": { "type": "string" },
        "latitude": { "type": "string" },
        "longitude": { "type": "string" },

        "est_arr_time": { "type": "string" },
        "est_dep_time": { "type": "string" },

        "day_num": { "type": "integer" },
        "dep_day_num": { "type": "integer" },

        "city": {
          "type": "object",
          "required": ["id", "name", "state"],
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" },
            "state": {
              "type": "object",
              "required": ["id", "name"],
              "properties": {
                "id": { "type": "integer" },
                "name": { "type": "string" }
              }
            }
          }
        }
      }
    }
  }
}
