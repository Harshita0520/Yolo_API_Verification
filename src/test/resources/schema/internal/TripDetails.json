{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["status", "data"],
  "properties": {
    "status": {
      "type": "object",
      "required": ["http_status_code"],
      "properties": {
        "http_status_code": {
          "type": "integer",
          "enum": [200]
        }
      }
    },
    "data": {
      "type": "object",
      "required": [
        "subtrip_id",
        "trip_id",
        "origin",
        "destination",
        "duration",
        "status",
        "layout",
        "vehicle_amenities",
        "trip_doj",
        "service_id",
        "service_name"
      ],
      "properties": {
        "subtrip_id": { "type": "integer" },
        "trip_id": { "type": "integer" },

        "origin": {
          "type": "object",
          "required": ["id", "name", "boarding_points"],
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" },
            "boarding_points": {
              "type": "array"
            }
          }
        },

        "destination": {
          "type": "object",
          "required": ["id", "name", "dropping_points"],
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" },
            "dropping_points": {
              "type": "array"
            }
          }
        },

        "service_amenities": {
          "type": "array"
        },

        "duration": {
          "type": "integer"
        },

        "status": {
          "type": "integer"
        },

        "layout": {
          "type": "object",
          "required": ["id", "coach_seats", "name", "num_row", "num_col"],
          "properties": {
            "id": { "type": "integer" },
            "name": { "type": "string" },
            "num_row": { "type": "integer" },
            "num_col": { "type": "integer" },

            "coach_seats": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "id",
                  "col",
                  "row",
                  "z_index",
                  "seat_type",
                  "seat_num",
                  "is_ladies",
                  "view_seat_type",
                  "view_seat_height",
                  "view_seat_width"
                ],
                "properties": {
                  "id": { "type": "integer" },
                  "col": { "type": "integer" },
                  "row": { "type": "integer" },
                  "z_index": { "type": "integer" },
                  "seat_type": { "type": "string" },
                  "seat_num": { "type": "string" },
                  "is_ladies": { "type": "boolean" },
                  "view_seat_type": { "type": "string" },
                  "view_seat_height": { "type": "integer" },
                  "view_seat_width": { "type": "integer" },

                  "seat_sub_type": { "type": ["string", "null"] },
                  "base_fare": { "type": ["number", "null"] },
                  "actual_fare": { "type": ["number", "null"] },
                  "fixed_fare": { "type": ["number", "null"] },
                  "btl_fare": { "type": ["number", "null"] },
                  "tax": { "type": ["number", "null"] },
                  "final_price": { "type": ["number", "null"] },
                  "is_available": { "type": ["boolean", "null"] },
                  "status": { "type": ["integer", "null"] },
                  "last_updated_at": { "type": ["string", "null"] }
                }
              }
            }
          }
        },

        "vehicle_amenities": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["id", "amenity", "status", "vehicle"],
            "properties": {
              "id": { "type": "integer" },
              "status": { "type": "integer" },
              "vehicle": { "type": "integer" },

              "amenity": {
                "type": "object",
                "required": ["id", "name", "icon_name"],
                "properties": {
                  "id": { "type": "integer" },
                  "name": { "type": "string" },
                  "icon_name": { "type": "string" },
                  "owned_by": { "type": "integer" },
                  "is_global": { "type": "boolean" }
                }
              },

              "created_at": { "type": "string" },
              "updated_at": { "type": "string" },
              "deleted_at": { "type": ["string", "null"] }
            }
          }
        },

        "trip_doj": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
        },

        "service_id": { "type": "integer" },
        "service_name": { "type": "string" }
      }
    }
  }
}
